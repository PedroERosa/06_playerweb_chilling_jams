<main class="main">

  <app-aba-playlists>
    <div class="div_filtros">
      <app-botao-filtro 
        (click)="this.filtrar('favorito')" 
        [estaAtivoFlag]="this.tagEstaFiltrada('favorito')" 
        [class.oculto]='validarAtivo(this.estadoAtual.favoritos, [""])'>

        favorito

      </app-botao-filtro>

      @for (filtro of estadoAtual.filtrosTodos; track filtro) {

        <app-botao-filtro 
          (click)="this.filtrar(filtro)" 
          [estaAtivoFlag]="this.tagEstaFiltrada(filtro)">

          {{filtro}}
          
        </app-botao-filtro>
        
      }
    </div>
    
    @for (playlist of listaDePlaylists; track playlist.id) {

      <div class="div_playlists" [class.oculto]="this.playlistEstaFiltrada(playlist.tags , playlist.id)">

        <app-botao-playlist 
          (atualizarPlaylist)="atualizarPlaylist(playlist.id)" 
          (favoritar)="favoritar(playlist.id)" 
          [estaAtivoFlag]="validarAtivo(this.estadoAtual.playlistIndex, playlist.id)" 
          [estaFavoritadoFlag]="estaFavoritado(playlist.id)">

          <img capa-playlist [src]="'/images/' + playlist.capa + '_min.png'" alt="{{ playlist.nome }}">
          <span nome-playlist>{{playlist.nome}}</span>
          <span tags-playlist>{{playlist.tags}}</span>
        
        </app-botao-playlist>
      
        @if (playlist.id == this.estadoAtual.playlistIndex) {

          @for (musica of playlist.musicas; track musica.id) {

            <app-botao-musica 
              (click)="atualizarMusica(musica.id)" 
              [estaAtivoFlag]="validarAtivo(this.estadoAtual.musicaIndex, musica.id)">

              <span index-musica>{{musica.id + 1}}</span>
              <span nome-musica>{{musica.titulo}} - {{musica.artista}}</span>

            </app-botao-musica>

          }
        }
      </div>
    }
  </app-aba-playlists>

  <app-player-base 
    (tocar)="tocarMusica()" 
    (pausar)="pausarMusica()" 
    (avancar)="avancarMusica()" 
    (retroceder)="retrocederMusica()" 
    (alternarAleatorio)="alternarAleatoriedadeMusicas()" 
    (controlarVolume)="alterarVolume($event)" 
    (controlarTempo)="alterarTempoMusica($event)" 
    [estaAleatorioFlag]="this.estadoAtual.estaAleatorizado" 
    [estaTocandoFlag]="this.estadoAtual.estaTocando" 
    [capaSrc]="this.listaDePlaylists[this.estadoAtual.playlistIndex].capa" 
    [tempoMusicaPassado]="this.estadoAtual.tempoMusicaPassado" 
    [tempoMusicaTotal]="this.estadoAtual.tempoMusicaTotal" 
    [volume]="this.estadoAtual.volume">

    <span nome-playlist>
      {{this.listaDePlaylists[this.estadoAtual.playlistIndex].nome}}
    </span>
    <span nome-musica>
      {{this.listaDePlaylists[this.estadoAtual.playlistIndex].musicas[this.estadoAtual.musicaIndex].titulo}} - 
      {{this.listaDePlaylists[this.estadoAtual.playlistIndex].musicas[this.estadoAtual.musicaIndex].artista}}
    </span>
  </app-player-base>

  <app-elemento-musica 
    (tempoAtual)="definirTempoMusicaPassado($event)" 
    (tempoMax)="definirTempoMusicaTotal($event)" 
    (volume)="definirVolume($event)" 
    (fim)="avancarMusica()">
  </app-elemento-musica>

  <p id="texto-marca">Chilling jams</p>

  <app-elementos-inferiores 
    [estaEscuroFlag]="estaEscuro()" 
    (modoEscuro)="modoEscuro()" 
    (modoClaro)="modoClaro()">
  </app-elementos-inferiores>
  
</main>


<svg class="imagem_background" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 900" preserveAspectRatio="xMidYMid slice">
    <defs><style>.fundo-path {fill: var(--cor-bg-ondas)}</style></defs>
    <g>
      <path class="fundo-path" d="M498.11,894.74c-87.36-61.07-201.84-97.78-351.35-68.61-55.63,10.85-104.51,12.16-146.75,7.8v66.07h126c8.41-1.52,16.98-3.26,25.73-5.27,98.76-22.63,181.86-16.49,252.25,5.27h101.97c-2.62-1.7-5.24-3.44-7.84-5.26Z"/>
      <path class="fundo-path" d="M1000,697.37c-9.8,7.5-19.79,15.21-30.02,23.02-38.27,29.2-71.41,71.29-107.09,110.83-24.94,27.59-53.2,50.88-83.5,68.79h89.68c2.45-2.69,4.87-5.43,7.24-8.23,42.13-49.83,81.95-102.59,123.69-145.95v-48.46Z"/>
      <path class="fundo-path" d="M141.78,757.39c142.21-22.48,253.79,14.81,339.02,80.14,127.23,97.53,267.37,38.06,368.67-66.99,37.34-38.85,72.35-80.47,114.43-101.76,12.62-6.39,24.62-12.86,36.1-19.27v-47.38c-13.12,5.16-27.11,10.2-42.15,14.93-45.05,14.18-82.78,54.51-121.78,92.69-106.19,103.45-240.8,180.15-372.56,70.47-83.24-69.3-191.81-107.53-326.67-91.68-51.15,6.02-96.83,5.45-136.83,1.04v72.25c41.12,4.37,88.4,4,141.78-4.44Z"/>
      <path class="fundo-path" d="M131.86,619.59c127.48-9.36,232.95,30.15,314.35,103.2,136.1,122.14,265.34,27.93,376.43-73.94,40.67-37.49,81.45-75.73,129.12-83.6,17.47-2.88,33.47-6.32,48.22-10.12v-46.66c-16.41,2.34-34.41,4.05-54.29,4.89-50.28,2.13-94.13,37.72-136.47,74.52-115.99,100.28-240.07,212.3-380.32,77.42-79.69-76.64-181.97-117.72-302.02-114.74-46.73,1.16-89.19-1.35-126.9-5.9v72.53c38.86,4.47,82.93,5.99,131.86,2.4Z"/>
      <path class="fundo-path" d="M121.94,481.46c112.59,3.27,211.6,46.19,289.7,126.28,144.17,147.86,263.3,17.81,384.19-80.9,44.01-36.11,90.75-68.67,143.82-65.43,22.28,1.36,42.28,1.47,60.35.67v-46.17c-19.73-.78-41.75-2.83-66.42-6.52-56.03-8.36-105.49,20.92-151.16,56.35-125.79,97.12-240.22,245.41-388.08,84.37-76.61-83.46-172.24-128.47-277.37-137.81-42.36-3.76-81.59-8.33-116.97-13.14v72.82c36.55,4.66,77.4,8.18,121.94,9.47Z"/>
      <path class="fundo-path" d="M111.99,345c97.66,15.21,189.8,62.6,265.02,149.33,151.31,174.41,261.28,7.68,391.97-87.85,47.34-34.74,99.29-60.64,158.5-47.26,27.07,6.11,51.11,10.16,72.52,12.58v-34.15c-23.13-4.09-49.25-10.2-78.78-18.85-62.58-18.33-116.86,4.13-165.86,38.18-135.59,93.95-241.33,279.29-395.84,91.32-73.94-89.96-162.44-139.97-252.7-160.88-37.94-8.78-73.86-15.57-106.82-20.83v61.47c34.2,5.01,71.81,10.67,111.99,16.94Z"/>
      <path class="fundo-path" d="M324.41,362.04C221.22,223.27,99.53,168.35,0,148.98v58.09c31.7,5.56,65.92,13.55,101.6,24.9,82.98,26.37,167.62,79.25,240.37,172.4,157.47,201.64,259.25-2.43,399.72-94.8,50.68-33.36,107.12-52.37,173.21-29.09,32.03,11.28,60.24,19.51,85.1,25.3v-30.14c-26.6-7.52-56.9-17.91-91.43-31.89-263.41-106.57-366.28,411.32-584.16,118.3Z"/>
      <path class="fundo-path" d="M265.8,275.37c18.06,17.47,35.61,35.18,51.86,54.46,89.97,106.68,148.15,77.3,221.04,25.02,88.58-63.59,167.58-153,289.22-163.86,23.87-2.15,49.21.72,75.87,10.01,36.46,12.7,68.34,21.86,96.22,28.23v-41.9c-29.22-5.16-62.71-12.92-101.08-24.08-26.69-7.76-52.32-9.04-76.37-5.38-128.01,19.49-202.87,78.73-296.17,142.5-76.92,52.52-123.95,96.89-215.57,2.25-16.64-17.2-35.34-33.25-54.9-50.63C162.98,169.45,74.1,120.82,0,91.47v26.39c79.08,22.94,173.5,68.18,265.8,157.5Z"/>
      <path class="fundo-path" d="M246.06,227.47c21.11,17.25,40.89,31.69,57.93,46.79,93.17,82.61,129.14,23.24,210.1-29.52,98.01-63.97,168.68-92.73,303.12-121.13,24.23-5.12,50.12-5.46,76.87.74,40.21,9.32,75.32,15.54,105.92,19.46v-45.11c-32.05-2.69-68.8-7.26-110.75-14.44-26.85-4.6-52.94-2.62-77.36,3.91-140.86,37.63-207.34,35.6-310.07,99.76-85.01,52.99-109.98,127.42-204.63,56.81-17.45-13.02-38.24-25.9-60.97-42.95C142.58,131.51,64.52,76,0,34.07v29.52c69.26,35.66,152.69,87.68,246.06,163.87Z"/>
      <path class="fundo-path" d="M226.42,174.92c24.39,16.81,46.12,28.19,64,39.12,96.05,58.65,110.12-30.85,199.17-84.08,107.42-64.35,169.79-31.29,317-78.41,24.61-7.87,50.89-11.46,77.86-8.54,43.55,4.72,81.95,7.55,115.55,9.06V4.1c-35.26-.45-75.35-1.5-120.32-3.45-27.12-1.17-53.55,3.99-78.36,13.19-153.48,56.84-211.8-7.52-323.95,57.04-93.11,53.47-96.35,158.13-193.71,111.35-18.32-8.8-40.95-18.77-67.04-35.28C139.45,98.13,80.24,46.95,30.92,0H0v2.87c59.86,48.21,132.58,107.35,226.42,172.05Z"/>
      <path class="fundo-path" d="M206.85,117.98c27.84,16.12,51.31,24.76,70.07,31.42,98.63,35.04,91.09-84.9,188.24-138.62,7.7-4.26,15.12-7.82,22.32-10.79h-90.45c-43.33,60.08-51.19,133.42-126.82,115.69-19.23-4.5-43.5-11.94-73.12-27.59C149.76,63.08,111.97,32.65,80.23,0h-22.77c39.92,41.22,87.76,82.28,149.4,117.98Z"/>
      <path class="fundo-path" d="M686.73,0h-12.57c4.11.09,8.3.1,12.57,0Z"/>
      <path class="fundo-path" d="M187.35,57.42c31.42,15.09,56.47,21.45,76.16,23.77,54.19,6.39,70.99-33.99,91.12-81.18h-31.43c-13.36,27.25-31.73,46.18-66.38,45.99-20.11-.11-45.95-5.52-79.19-19.92-17.21-7.45-32.77-16.23-46.95-26.07h-27.9c23.83,21.96,51.53,41.56,84.58,57.42Z"/>
    </g>
  </svg>


<router-outlet></router-outlet>